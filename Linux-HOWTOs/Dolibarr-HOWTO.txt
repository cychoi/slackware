==============
Dolibarr HOWTO (c) Nicolas Kovacs <info@microlinux.fr>
==============

Dernière révision : 14 novembre 2013

Ce HOWTO décrit l'installation de Dolibarr sur un serveur Slackware.

Créer la base de données :

  # mysql -u root -p
  mysql> create database dolibarr;
  mysql> grant all on dolibarr.* to dolibarruser@localhost
      -> identified by '********'; 
  mysql> flush privileges;
  Bye 

# cd /var/www/vhosts

Télécharger Dolibarr :

  # wget -c http://www.dolibarr.org/files/dolibarr.tgz
  # tar xvzf dolibarr.tgz
  # mv dolibarr-x.y.z dolibarr
  # rm -f dolibarr.tgz

Régler les droits d'accès et les permissions de fichiers :

  # chown -R apache:apache dolibarr/
  # find dolibarr/ -type d -exec chmod 0755 \{} \;
  # find dolibarr/ -type f -exec chmod 0644 \{} \;

Créer un fichier de configuration vide :

  # cd dolibarr
  # touch htdocs/conf/conf.php

Définir les permissions de ce fichier :

  # chown apache:apache htdocs/conf/conf.php

Créer le répertoire qui servira aux documents générés ou stockés par Dolibarr.
Attention, il doit bien être à l'extérieur de l'arborescence du site, pour des
raisons de sécurité évidentes :

  # mkdir documents

Définir les permissions du répertoire :

  # chown -R apache:apache documents/

Créer un hôte virtuel, comme ceci par exemple :

--8<---------- /etc/httpd/extra/httpd-vhosts.conf ----------------------------
...
# dolibarr.nestor.microlinux.montpezat
<VirtualHost *:80>
  ServerAdmin info@microlinux.fr
  ServerName  dolibarr.nestor.microlinux.montpezat
  ServerAlias dolibarr.nestor
  DocumentRoot /srv/httpd/vhosts/dolibarr/htdocs
  ErrorLog "/var/log/httpd/dolibarr-error.log"
  CustomLog "/var/log/httpd/dolibarr-access.log" common
</VirtualHost>
--8<--------------------------------------------------------------------------

Redémarrer Apache :

  # /etc/rc.d/rc.httpd restart

Pointer le navigateur sur la page principale, par exemple :

  * http://dolibarr.nestor

Suivre les instructions de l'installation.

Une fois l'installation terminée, on peut la verrouiller comme ceci :

  # cd /var/www/vhosts/dolibarr
  # touch install.lock


------------------------------------------------------------------------------
# vim: syntax=txt
# vim: set encoding=latin1
